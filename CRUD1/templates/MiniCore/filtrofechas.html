{% extends "predeterminados/base.html"%}
{% load static %}
{% block titulo%} Fitro {%endblock%}
{% block estilos%}
<link rel="stylesheet" type="text/css" href="{% static 'css/table.css' %}" />
<style>
  .ContenedorT {
    margin: 2%;
    background: transparent;
    border-bottom-left-radius: 10px;
    border-bottom-right-radius: 10px;
    backdrop-filter: blur(20px);
    box-shadow: 0 10px 30px 0 #00000080;
    text-align: center;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }

  .ContenedorT input {
    margin-bottom: 10px;
  }
</style>
{%endblock%}
{% block contenido%}
<div class="col-md-4 my-5">
  <form method="get" class="ContenedorT">
    {% csrf_token %} {{ form }}
    <button class="button" type="submit">Buscar</button>
  </form>
</div>
{% if results %}
<div class="table-wrapper">
  <table class="fl-table">
    <thead>
      <tr>
        <th>Cliente</th>
        <th>Contratos</th>
        <th>Costo</th>
      </tr>
    </thead>
    <tbody>
      {% for result in results %}
      <tr>
        <td>{{ result.client.nombre }}</td>
        <td>{{ result.contratos }}</td>
        <td>{{ result.total_price|floatformat:2 }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
<div class="horizontal-span ContenedorT">
  <span>Clientes: {{ summary.clients }}</span>
  <span>Contratos: {{ summary.contratos }}</span>
  <span>Monto total: {{ summary.total_price|floatformat:2 }}</span>
</div>
{% else %}
<div role="alert">
  <label>
    <input type="checkbox" class="alertCheckbox" autocomplete="off" />
    <div class="alert error">
      <span class="alertClose">X</span>
      <span class="alertText">No se encontraron resultados
        <br class="clear" /></span>
    </div>
  </label>
</div>
{% endif %}
{%endblock%}